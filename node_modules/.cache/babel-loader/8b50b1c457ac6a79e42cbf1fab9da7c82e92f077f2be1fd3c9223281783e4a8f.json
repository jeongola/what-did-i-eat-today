{"ast":null,"code":"import _slicedToArray from\"/Users/yoojeongkim/Documents/Kim-Yoo-Jeong/[\\u110B\\u1175\\u11AB\\u1111\\u1173\\u1105\\u1165\\u11AB] \\u1112\\u1161\\u11AB\\u110B\\u1175\\u11B8 \\u110F\\u1173\\u1100\\u1175\\u1105\\u1169 \\u110C\\u1161\\u11AF\\u1105\\u1161 \\u1106\\u1165\\u11A8\\u1102\\u1173\\u11AB \\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173(React.js) - \\u1100\\u1175\\u110E\\u1169\\u1107\\u116E\\u1110\\u1165 \\u1109\\u1175\\u11AF\\u110C\\u1165\\u11AB\\u1101\\u1161\\u110C\\u1175 /what-did-i-eat-today/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from'react-router-dom';import{useContext,useEffect,useState}from'react';import{DiaryStateContext}from'../App';import{useNavigate}from'react-router-dom';import{getStrDate}from'./../Util/date';import MyHeader from'./../components/MyHeader';import MyButton from'./../components/MyButton';import{exerciseList}from'../Util/exerciseList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Diary=function Diary(){var _useParams=useParams(),id=_useParams.id;var diaryList=useContext(DiaryStateContext);var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){if(diaryList.length>=1){var targetDiary=diaryList.find(function(it){return parseInt(it.id)===parseInt(id);});if(targetDiary){setData(targetDiary);}else{alert('No diary page!');navigate('/',{replace:true});}}},[id,diaryList]);if(!data){return/*#__PURE__*/_jsx(\"div\",{className:\"DiaryPage\",children:\"Loading...\"});}else{var currentExerciseData=exerciseList.find(function(it){return parseInt(it.exercise_id)===parseInt(data.exercise);});console.log(currentExerciseData);return/*#__PURE__*/_jsxs(\"div\",{className:\"DiaryPage\",children:[/*#__PURE__*/_jsx(MyHeader,{headText:\"\".concat(getStrDate(new Date(data.date))),leftChild:/*#__PURE__*/_jsx(MyButton,{text:'< back',onClick:function onClick(){return navigate(-1);}}),rightChild:/*#__PURE__*/_jsx(MyButton,{text:'Edit',onClick:function onClick(){return navigate(\"/edit/\".concat(data.id));}})}),/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"My Body Condition Today\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"diary_img_wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"/\",src:currentExerciseData.exercise_img,style:{width:300}}),/*#__PURE__*/_jsx(\"div\",{className:\"exercise_descript\",children:currentExerciseData.exercise_descript})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"today's diary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"diary_content_wrapper\",children:/*#__PURE__*/_jsx(\"p\",{children:data.content})})]})]})]});}};export default Diary;","map":{"version":3,"names":["useParams","useContext","useEffect","useState","DiaryStateContext","useNavigate","getStrDate","MyHeader","MyButton","exerciseList","Diary","id","diaryList","navigate","data","setData","length","targetDiary","find","it","parseInt","alert","replace","currentExerciseData","exercise_id","exercise","console","log","Date","date","exercise_img","width","exercise_descript","content"],"sources":["/Users/yoojeongkim/Documents/Kim-Yoo-Jeong/[인프런] 한입 크기로 잘라 먹는 리액트(React.js) - 기초부터 실전까지 /what-did-i-eat-today/src/pages/Diary.js"],"sourcesContent":["import { useParams } from 'react-router-dom';\nimport { useContext, useEffect, useState } from 'react';\nimport { DiaryStateContext } from '../App';\nimport { useNavigate } from 'react-router-dom';\nimport { getStrDate } from './../Util/date';\nimport MyHeader from './../components/MyHeader';\nimport MyButton from './../components/MyButton';\nimport { exerciseList } from '../Util/exerciseList';\n\nconst Diary = () => {\n  const { id } = useParams();\n  const diaryList = useContext(DiaryStateContext);\n  const navigate = useNavigate();\n  const [data, setData] = useState();\n\n  useEffect(() => {\n    if (diaryList.length >= 1) {\n      const targetDiary = diaryList.find((it) => parseInt(it.id) === parseInt(id));\n\n      if (targetDiary) {\n        setData(targetDiary);\n      } else {\n        alert('No diary page!');\n        navigate('/', { replace: true });\n      }\n    }\n  }, [id, diaryList]);\n\n  if (!data) {\n    return <div className='DiaryPage'>Loading...</div>;\n  } else {\n    const currentExerciseData = exerciseList.find(\n      (it) => parseInt(it.exercise_id) === parseInt(data.exercise),\n    );\n    console.log(currentExerciseData);\n    return (\n      <div className='DiaryPage'>\n        <MyHeader\n          headText={`${getStrDate(new Date(data.date))}`}\n          leftChild={<MyButton text={'< back'} onClick={() => navigate(-1)} />}\n          rightChild={<MyButton text={'Edit'} onClick={() => navigate(`/edit/${data.id}`)} />}\n        />\n        <article>\n          <section>\n            <h4>My Body Condition Today</h4>\n            <div className='diary_img_wrapper'>\n              <img alt='/' src={currentExerciseData.exercise_img} style={{ width: 300 }} />\n              <div className='exercise_descript'>{currentExerciseData.exercise_descript}</div>\n            </div>\n          </section>\n          <section>\n            <h4>today's diary</h4>\n            <div className='diary_content_wrapper'>\n              <p>{data.content}</p>\n            </div>\n          </section>\n        </article>\n      </div>\n    );\n  }\n};\n\nexport default Diary;\n"],"mappings":"4fAAA,OAASA,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,iBAAiB,KAAQ,QAAQ,CAC1C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,UAAU,KAAQ,gBAAgB,CAC3C,MAAOC,SAAQ,KAAM,0BAA0B,CAC/C,MAAOC,SAAQ,KAAM,0BAA0B,CAC/C,OAASC,YAAY,KAAQ,sBAAsB,CAAC,wFAEpD,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClB,eAAeV,SAAS,EAAE,CAAlBW,EAAE,YAAFA,EAAE,CACV,GAAMC,UAAS,CAAGX,UAAU,CAACG,iBAAiB,CAAC,CAC/C,GAAMS,SAAQ,CAAGR,WAAW,EAAE,CAC9B,cAAwBF,QAAQ,EAAE,wCAA3BW,IAAI,eAAEC,OAAO,eAEpBb,SAAS,CAAC,UAAM,CACd,GAAIU,SAAS,CAACI,MAAM,EAAI,CAAC,CAAE,CACzB,GAAMC,YAAW,CAAGL,SAAS,CAACM,IAAI,CAAC,SAACC,EAAE,QAAKC,SAAQ,CAACD,EAAE,CAACR,EAAE,CAAC,GAAKS,QAAQ,CAACT,EAAE,CAAC,GAAC,CAE5E,GAAIM,WAAW,CAAE,CACfF,OAAO,CAACE,WAAW,CAAC,CACtB,CAAC,IAAM,CACLI,KAAK,CAAC,gBAAgB,CAAC,CACvBR,QAAQ,CAAC,GAAG,CAAE,CAAES,OAAO,CAAE,IAAK,CAAC,CAAC,CAClC,CACF,CACF,CAAC,CAAE,CAACX,EAAE,CAAEC,SAAS,CAAC,CAAC,CAEnB,GAAI,CAACE,IAAI,CAAE,CACT,mBAAO,YAAK,SAAS,CAAC,WAAW,wBAAiB,CACpD,CAAC,IAAM,CACL,GAAMS,oBAAmB,CAAGd,YAAY,CAACS,IAAI,CAC3C,SAACC,EAAE,QAAKC,SAAQ,CAACD,EAAE,CAACK,WAAW,CAAC,GAAKJ,QAAQ,CAACN,IAAI,CAACW,QAAQ,CAAC,GAC7D,CACDC,OAAO,CAACC,GAAG,CAACJ,mBAAmB,CAAC,CAChC,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,QAAQ,EACP,QAAQ,WAAKjB,UAAU,CAAC,GAAIsB,KAAI,CAACd,IAAI,CAACe,IAAI,CAAC,CAAC,CAAG,CAC/C,SAAS,cAAE,KAAC,QAAQ,EAAC,IAAI,CAAE,QAAS,CAAC,OAAO,CAAE,yBAAMhB,SAAQ,CAAC,CAAC,CAAC,CAAC,EAAC,EAAI,CACrE,UAAU,cAAE,KAAC,QAAQ,EAAC,IAAI,CAAE,MAAO,CAAC,OAAO,CAAE,yBAAMA,SAAQ,iBAAUC,IAAI,CAACH,EAAE,EAAG,EAAC,EAAI,EACpF,cACF,wCACE,wCACE,+CAAgC,cAChC,aAAK,SAAS,CAAC,mBAAmB,wBAChC,YAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAEY,mBAAmB,CAACO,YAAa,CAAC,KAAK,CAAE,CAAEC,KAAK,CAAE,GAAI,CAAE,EAAG,cAC7E,YAAK,SAAS,CAAC,mBAAmB,UAAER,mBAAmB,CAACS,iBAAiB,EAAO,GAC5E,GACE,cACV,wCACE,qCAAsB,cACtB,YAAK,SAAS,CAAC,uBAAuB,uBACpC,mBAAIlB,IAAI,CAACmB,OAAO,EAAK,EACjB,GACE,GACF,GACN,CAEV,CACF,CAAC,CAED,cAAevB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}