{"ast":null,"code":"import _objectSpread from\"/Users/yoojeongkim/Documents/Kim-Yoo-Jeong/[\\u110B\\u1175\\u11AB\\u1111\\u1173\\u1105\\u1165\\u11AB] \\u1112\\u1161\\u11AB\\u110B\\u1175\\u11B8 \\u110F\\u1173\\u1100\\u1175\\u1105\\u1169 \\u110C\\u1161\\u11AF\\u1105\\u1161 \\u1106\\u1165\\u11A8\\u1102\\u1173\\u11AB \\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173(React.js) - \\u1100\\u1175\\u110E\\u1169\\u1107\\u116E\\u1110\\u1165 \\u1109\\u1175\\u11AF\\u110C\\u1165\\u11AB\\u1101\\u1161\\u110C\\u1175 /what-did-i-eat-today/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/yoojeongkim/Documents/Kim-Yoo-Jeong/[\\u110B\\u1175\\u11AB\\u1111\\u1173\\u1105\\u1165\\u11AB] \\u1112\\u1161\\u11AB\\u110B\\u1175\\u11B8 \\u110F\\u1173\\u1100\\u1175\\u1105\\u1169 \\u110C\\u1161\\u11AF\\u1105\\u1161 \\u1106\\u1165\\u11A8\\u1102\\u1173\\u11AB \\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173(React.js) - \\u1100\\u1175\\u110E\\u1169\\u1107\\u116E\\u1110\\u1165 \\u1109\\u1175\\u11AF\\u110C\\u1165\\u11AB\\u1101\\u1161\\u110C\\u1175 /what-did-i-eat-today/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate}from'react-router-dom';import{useState,useRef,useContext,useEffect,useCallback}from'react';import MyHeader from'./MyHeader';import MyButton from'./MyButton';import ExerciseItem from'./ExerciseItem';import{DiaryDispatchContext}from'./../App.js';import{exerciseList}from'../Util/exerciseList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getStrDate=function getStrDate(date){return date.toISOString().slice(0,10);};var DiaryEditor=function DiaryEditor(_ref){var isEdit=_ref.isEdit,originData=_ref.originData;var contentRef=useRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),content=_useState2[0],setContent=_useState2[1];var _useState3=useState(3),_useState4=_slicedToArray(_useState3,2),exercise=_useState4[0],setExercise=_useState4[1];var _useState5=useState(getStrDate(new Date())),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useContext=useContext(DiaryDispatchContext),onCreate=_useContext.onCreate,onEdit=_useContext.onEdit,onRemove=_useContext.onRemove;var handleClickExercise=useCallback(function(exercise){setExercise(exercise);},[]);var navigate=useNavigate();var handleSubmit=function handleSubmit(){if(content.length<1){contentRef.current.focus();return;}if(window.confirm(isEdit?'Do you really want to edit this page?':'Are you done?')){if(!isEdit){onCreate(date,content,exercise);}else{onEdit(originData.id,date,content,exercise);}}navigate('/',{replace:true});};var handleRemove=function handleRemove(){if(window.confirm('Do you really want to delete this page?')){onRemove(originData.id);navigate('/',{replace:true});}};useEffect(function(){if(isEdit){setDate(getStrDate(new Date(parseInt(originData.date))));setExercise(originData.exercise);setContent(originData.content);}},[isEdit,originData]);return/*#__PURE__*/_jsxs(\"div\",{className:\"DiaryEditor\",children:[/*#__PURE__*/_jsx(MyHeader,{headText:isEdit?'Edit':'What did I eat today?',leftChild:/*#__PURE__*/_jsx(MyButton,{text:'< go back',onClick:function onClick(){return navigate(-1);}}),rightChild:isEdit&&/*#__PURE__*/_jsx(MyButton,{text:'delete',type:'negative',onClick:handleRemove})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"today's date\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input_box\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input_date\",value:date,type:\"date\",onChange:function onChange(e){return setDate(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"today's exercise\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input_box exercise_list_wrapper\",children:exerciseList.map(function(it){return/*#__PURE__*/_jsx(ExerciseItem,_objectSpread({onClick:handleClickExercise,isselected:it.exercise_id===exercise},it),it.exercise_id);})})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"today's diary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input_box text_wrapper\",children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"what did you eat today?\",ref:contentRef,value:content,onChange:function onChange(e){return setContent(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"control_box\",children:[/*#__PURE__*/_jsx(MyButton,{text:'cancel',onClick:function onClick(){return navigate(-1);}}),/*#__PURE__*/_jsx(MyButton,{text:'Done',type:'positive',onClick:handleSubmit})]})})]})]});};export default DiaryEditor;","map":{"version":3,"names":["useNavigate","useState","useRef","useContext","useEffect","useCallback","MyHeader","MyButton","ExerciseItem","DiaryDispatchContext","exerciseList","getStrDate","date","toISOString","slice","DiaryEditor","isEdit","originData","contentRef","content","setContent","exercise","setExercise","Date","setDate","onCreate","onEdit","onRemove","handleClickExercise","navigate","handleSubmit","length","current","focus","window","confirm","id","replace","handleRemove","parseInt","e","target","value","map","it","exercise_id"],"sources":["/Users/yoojeongkim/Documents/Kim-Yoo-Jeong/[인프런] 한입 크기로 잘라 먹는 리액트(React.js) - 기초부터 실전까지 /what-did-i-eat-today/src/components/DiaryEditor.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport { useState, useRef, useContext, useEffect, useCallback } from 'react';\nimport MyHeader from './MyHeader';\nimport MyButton from './MyButton';\nimport ExerciseItem from './ExerciseItem';\nimport { DiaryDispatchContext } from './../App.js';\nimport { exerciseList } from '../Util/exerciseList';\n\nconst getStrDate = (date) => {\n  return date.toISOString().slice(0, 10);\n};\n\nconst DiaryEditor = ({ isEdit, originData }) => {\n  const contentRef = useRef();\n  const [content, setContent] = useState('');\n  const [exercise, setExercise] = useState(3);\n  const [date, setDate] = useState(getStrDate(new Date()));\n\n  const { onCreate, onEdit, onRemove } = useContext(DiaryDispatchContext);\n\n  const handleClickExercise = useCallback((exercise) => {\n    setExercise(exercise);\n  }, []);\n  const navigate = useNavigate();\n\n  const handleSubmit = () => {\n    if (content.length < 1) {\n      contentRef.current.focus();\n      return;\n    }\n    if (window.confirm(isEdit ? 'Do you really want to edit this page?' : 'Are you done?')) {\n      if (!isEdit) {\n        onCreate(date, content, exercise);\n      } else {\n        onEdit(originData.id, date, content, exercise);\n      }\n    }\n    navigate('/', { replace: true });\n  };\n\n  const handleRemove = () => {\n    if (window.confirm('Do you really want to delete this page?')) {\n      onRemove(originData.id);\n      navigate('/', { replace: true });\n    }\n  };\n\n  useEffect(() => {\n    if (isEdit) {\n      setDate(getStrDate(new Date(parseInt(originData.date))));\n      setExercise(originData.exercise);\n      setContent(originData.content);\n    }\n  }, [isEdit, originData]);\n\n  return (\n    <div className='DiaryEditor'>\n      <MyHeader\n        headText={isEdit ? 'Edit' : 'What did I eat today?'}\n        leftChild={<MyButton text={'< go back'} onClick={() => navigate(-1)} />}\n        rightChild={isEdit && <MyButton text={'delete'} type={'negative'} onClick={handleRemove} />}\n      />\n      <div>\n        <section>\n          <h4>today's date</h4>\n          <div className='input_box'>\n            <input\n              className='input_date'\n              value={date}\n              type='date'\n              onChange={(e) => setDate(e.target.value)}\n            />\n          </div>\n        </section>\n        <section>\n          <h4>today's exercise</h4>\n          <div className='input_box exercise_list_wrapper'>\n            {exerciseList.map((it) => (\n              <ExerciseItem\n                onClick={handleClickExercise}\n                isselected={it.exercise_id === exercise}\n                key={it.exercise_id}\n                {...it}\n              />\n            ))}\n          </div>\n        </section>\n        <section>\n          <h4>today's diary</h4>\n          <div className='input_box text_wrapper'>\n            <textarea\n              placeholder='what did you eat today?'\n              ref={contentRef}\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n            />\n          </div>\n        </section>\n        <section>\n          <div className='control_box'>\n            <MyButton text={'cancel'} onClick={() => navigate(-1)} />\n            <MyButton text={'Done'} type={'positive'} onClick={handleSubmit} />\n          </div>\n        </section>\n      </div>\n    </div>\n  );\n};\n\nexport default DiaryEditor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}